<mat-horizontal-stepper labelPosition="bottom" #stepper class="container">

  <!-- BEGIN HARDWARE -->
  <mat-step [stepControl]="hardwareFormGroup">
    <form [formGroup]="hardwareFormGroup">
      <ng-template matStepLabel> Hardware </ng-template>
      <h2> Hardware </h2>
      <mat-form-field class="input-general">
        <mat-label> Arduino Board </mat-label>
        <mat-select formControlName="board">
          <mat-option *ngFor="let board of boards" [value]="board">
            {{board.text}}
          </mat-option>
        </mat-select>      
      </mat-form-field>
      <br/>
      <div class="input-checkbox">
        <mat-checkbox formControlname="nativeInput" [checked]="hardwareFormGroup.controls.board.value.nativeInput === 'true'"> USB Mode </mat-checkbox>
      </div>
      <div class="input-checkbox"> 
        <mat-checkbox formControlname="nunchuk"> Nunchuk </mat-checkbox>
      </div>
      <div class="input-checkbox">
        <mat-checkbox formControlname="dpadSwitch"> DPad Switch </mat-checkbox>
      </div>
    </form>
  </mat-step>
  <!-- END HARDWARE-->

  <!-- BEGIN PIN ASSIGNMENT -->
  <mat-step [stepControl]="pinsFormGroup">
    <ng-template matStepLabel> Pin Assignment </ng-template>
    <h2> Games and SOCD Profile </h2>
    <form [formGroup]="pinsFormGroup">
      <mat-form-field class="input-general">
        <mat-label> Games </mat-label>
        <mat-select formControlName="gameProfiles" multiple>
          <mat-option *ngFor="let gameProfile of gameProfiles" [value]="gameProfile">
            {{gameProfile.text}}
          </mat-option>
        </mat-select>      
      </mat-form-field>
      <br/>
      <mat-form-field class="input-general">
        <mat-label>SOCD</mat-label>
        <mat-select formControlName="SOCDProfile">
          <mat-option *ngFor="let socd of SOCDProfiles" [value]="socd">
            {{socd.text}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-icon class="input-tooltip" matTooltip="Simultaneous Opposing Cardinal Directions" matTooltipPosition="right" color="primary">info</mat-icon>

      <h2> Pin Assignment </h2>
      <p>
        You may prefix your pin with 'A' for an analog pin, or 'D' for a digital pin.
        If you do not prefix the pin, it will be assumed to be a digital pin. <br/>
        Example: 'A12', 'D19', '6' 
      </p> 
      <mat-form-field class="input-pin">
          <input matInput placeholder="Gamecube Console" formControlName="gamecubeConsole">
          <mat-error *ngIf="pinsFormGroup.controls['gamecubeConsole'].errors"> Invalid Pin Number </mat-error>
      </mat-form-field>
      <br/>
      <mat-form-field *ngFor="let button of buttons" class="input-pin">
        <input matInput [placeholder]="button.text" [formControlName]="button.id">
        <mat-error *ngIf="pinsFormGroup.controls[button.id].errors "> Invalid Pin Number </mat-error>
      </mat-form-field>
    </form>
  </mat-step>
  <!-- END PIN ASSIGNMENT-->

  <!-- BEGIN ANGLES -->
  <mat-step>
      <ng-template matStepLabel> Angles Assignment </ng-template>
      <h2> Angles Assignment </h2>
      <div *ngFor="let gameProfile of pinsFormGroup.controls['gameProfiles'].value">
        <h3> {{ gameProfile.text }}</h3>
        <form [formGroup]="anglesFormGroup">
          <table>
            <tr>
              <td class="table-align-top">
                  <h4> Mod X </h4>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Horizontal" formControlName="modXHorizontal" [value]="gameProfile.modXHorizontal">
                  </mat-form-field> 
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Vertical" formControlName="modXVertical" [value]="gameProfile.modXVertical">
                  </mat-form-field>
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal (X)" formControlName="modXDiagonal" [value]="gameProfile.modXDiagonal[0]">
                  </mat-form-field>
                  <mat-form-field class="input-angle">
                      <input matInput placeholder="Diagonal (Y)" formControlName="modXDiagonal" [value]="gameProfile.modXDiagonal[1]">
                  </mat-form-field>
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal C-Down (X)" formControlName="modXDiagonalCDown" [value]="gameProfile.modXDiagonalCDown[0]">
                  </mat-form-field>
                  <mat-form-field class="input-angle">
                      <input matInput placeholder="Diagonal C-Down (Y)" formControlName="modXDiagonalCDown" [value]="gameProfile.modXDiagonalCDown[1]">
                  </mat-form-field>
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal C-Left (X)" formControlName="modXDiagonalCLeft" [value]="gameProfile.modXDiagonalCLeft[0]">
                  </mat-form-field>
                  <mat-form-field class="input-angle">
                      <input matInput placeholder="Diagonal C-Left (Y)" formControlName="modXDiagonalCLeft" [value]="gameProfile.modXDiagonalCLeft[1]">
                  </mat-form-field>
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal C-Up (X)" formControlName="modXDiagonalCUp" [value]="gameProfile.modXDiagonalCUp[0]">
                  </mat-form-field>
                  <mat-form-field class="input-angle">
                      <input matInput placeholder="Diagonal C-Up (Y)" formControlName="modXDiagonalCUp" [value]="gameProfile.modXDiagonalCUp[1]">
                  </mat-form-field>
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal C-Right (X)" formControlName="modXDiagonalCRight" [value]="gameProfile.modXDiagonalCRight[0]">
                  </mat-form-field>
                  <mat-form-field class="input-angle">
                      <input matInput placeholder="Diagonal C-Right (Y)" formControlName="modXDiagonalCRight" [value]="gameProfile.modXDiagonalCRight[1]">
                  </mat-form-field>
              </td>
              <td class="table-align-top">
                  <h4> Mod Y </h4>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Horizontal" formControlName="modYHorizontal" [value]="gameProfile.modYHorizontal">
                  </mat-form-field> 
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Vertical" formControlName="modYVertical" [value]="gameProfile.modYVertical">
                  </mat-form-field>
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal (X)" formControlName="modYDiagonal" [value]="gameProfile.modYDiagonal[0]">
                  </mat-form-field>
                  <mat-form-field class="input-angle">
                      <input matInput placeholder="Diagonal (Y)" formControlName="modYDiagonal" [value]="gameProfile.modYDiagonal[1]">
                  </mat-form-field>
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal C-Down (X)" formControlName="modYDiagonalCDown" [value]="gameProfile.modYDiagonalCDown[0]">
                  </mat-form-field>
                  <mat-form-field class="input-angle">
                      <input matInput placeholder="Diagonal C-Down (Y)" formControlName="modYDiagonalCDown" [value]="gameProfile.modYDiagonalCDown[1]">
                  </mat-form-field>
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal C-Left (X)" formControlName="modYDiagonalCLeft" [value]="gameProfile.modYDiagonalCLeft[0]">
                  </mat-form-field>
                  <mat-form-field class="input-angle">
                      <input matInput placeholder="Diagonal C-Left (Y)" formControlName="modYDiagonalCLeft" [value]="gameProfile.modYDiagonalCLeft[1]">
                  </mat-form-field>
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal C-Up (X)" formControlName="modYDiagonalCUp" [value]="gameProfile.modYDiagonalCUp[0]">
                  </mat-form-field>
                  <mat-form-field class="input-angle">
                      <input matInput placeholder="Diagonal C-Up (Y)" formControlName="modYDiagonalCUp" [value]="gameProfile.modYDiagonalCUp[1]">
                  </mat-form-field>
                  <br/>
                  <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal C-Right (X)" formControlName="modYDiagonalCRight" [value]="gameProfile.modYDiagonalCRight[0]">
                  </mat-form-field>
                  <mat-form-field class="input-angle">
                      <input matInput placeholder="Diagonal C-Right (Y)" formControlName="modYDiagonalCRight" [value]="gameProfile.modYDiagonalCRight[1]">
                  </mat-form-field>
              </td>
              <td class="table-align-top"> 
                <h4> L </h4>
                <mat-form-field class="input-angle">
                  <input matInput placeholder="Horizontal" formControlName="lHorizontal" [value]="gameProfile.lHorizontal">
                </mat-form-field> 
                <br/>
                <mat-form-field class="input-angle">
                  <input matInput placeholder="Vertical" formControlName="lVertical" [value]="gameProfile.lVertical">
                </mat-form-field>
                <br/>
                <mat-form-field class="input-angle">
                  <input matInput placeholder="Diagonal Up (X)" formControlName="lUpDiagonal" [value]="gameProfile.lUpDiagonal[0]">
                </mat-form-field>
                <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal Up (Y)" formControlName="lUpDiagonal" [value]="gameProfile.lUpDiagonal[1]">
                </mat-form-field>
                <br/>
                <mat-form-field class="input-angle">
                  <input matInput placeholder="Diagonal Down (X)" formControlName="lDownDiagonal" [value]="gameProfile.lDownDiagonal[0]">
                </mat-form-field>
                <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal Down (Y)" formControlName="lDownDiagonal" [value]="gameProfile.lDownDiagonal[1]">
                </mat-form-field>
              </td>
              <td class="table-align-top">
                <h4> R </h4>
                <mat-form-field class="input-angle">
                  <input matInput placeholder="Horizontal" formControlName="rHorizontal" [value]="gameProfile.rHorizontal">
                </mat-form-field> 
                <br/>
                <mat-form-field class="input-angle">
                  <input matInput placeholder="Vertical" formControlName="rVertical" [value]="gameProfile.rVertical">
                </mat-form-field>
                <br/>
                <mat-form-field class="input-angle">
                  <input matInput placeholder="Diagonal Up (X)" formControlName="rUpDiagonal" [value]="gameProfile.rUpDiagonal[0]">
                </mat-form-field>
                <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal Up (Y)" formControlName="rUpDiagonal" [value]="gameProfile.rUpDiagonal[1]">
                </mat-form-field>
                <br/>
                <mat-form-field class="input-angle">
                  <input matInput placeholder="Diagonal Down (X)" formControlName="rDownDiagonal" [value]="gameProfile.rDownDiagonal[0]">
                </mat-form-field>
                <mat-form-field class="input-angle">
                    <input matInput placeholder="Diagonal Down (Y)" formControlName="rDownDiagonal" [value]="gameProfile.rDownDiagonal[1]">
                </mat-form-field>
              </td>
            </tr>
          </table>
        </form>
      </div> 
  </mat-step>
  <!-- END ANGLES-->

  <mat-step>
      <ng-template matStepLabel>Download</ng-template>
  </mat-step>
</mat-horizontal-stepper>